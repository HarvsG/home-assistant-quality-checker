# local_calendar: entity-unique-id

| Info   | Value                                                                    |
|--------|--------------------------------------------------------------------------|
| Name   | [local_calendar](https://www.home-assistant.io/integrations/local_calendar/) |
| Rule   | [entity-unique-id](https://developers.home-assistant.io/docs/core/integration-quality-scale/rules/entity-unique-id)                                                     |
| Status | **done**                                                                 |
| Reason |                                                                          |

## Overview

The `entity-unique-id` rule requires that all entities created by an integration have a unique ID. This is crucial for allowing users to customize entities (e.g., rename, change area) and for Home Assistant to track entities across restarts.

This rule applies to the `local_calendar` integration because it creates calendar entities. The integration defines `PLATFORMS: list[Platform] = [Platform.CALENDAR]` in `homeassistant/components/local_calendar/__init__.py`, indicating it will set up entities on the calendar platform.

The `local_calendar` integration **fully follows** this rule.

The calendar entity for this integration is defined by the `LocalCalendarEntity` class in `homeassistant/components/local_calendar/calendar.py`.
The unique ID for the entity is set in its `__init__` method:
```python
# homeassistant/components/local_calendar/calendar.py
class LocalCalendarEntity(CalendarEntity):
    # ...
    def __init__(
        self,
        store: LocalCalendarStore,
        calendar: Calendar,
        name: str,
        unique_id: str,  # This parameter receives the unique ID
    ) -> None:
        """Initialize LocalCalendarEntity."""
        # ...
        self._attr_name = name
        self._attr_unique_id = unique_id  # The unique ID is assigned here
```

This `unique_id` is provided when the `LocalCalendarEntity` is instantiated within the `async_setup_entry` function in the same file. The `config_entry.entry_id` is used as the unique ID:
```python
# homeassistant/components/local_calendar/calendar.py
async def async_setup_entry(
    hass: HomeAssistant,
    config_entry: ConfigEntry,
    async_add_entities: AddConfigEntryEntitiesCallback,
) -> None:
    """Set up the local calendar platform."""
    # ...
    name = config_entry.data[CONF_CALENDAR_NAME]
    # The config_entry.entry_id is passed as the unique_id for the entity
    entity = LocalCalendarEntity(store, calendar, name, unique_id=config_entry.entry_id)
    async_add_entities([entity], True)
```
The `config_entry.entry_id` is a unique identifier automatically generated by Home Assistant for each configuration entry. Since `local_calendar` creates one calendar entity per config entry, using `config_entry.entry_id` directly as the entity's unique ID ensures that each calendar entity has a stable and unique identifier, fulfilling the requirements of the rule.

## Suggestions

No suggestions needed.

_Created at 2025-05-28 23:25:21. Prompt tokens: 6346, Output tokens: 716, Total tokens: 9727_
